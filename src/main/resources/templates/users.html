<!DOCTYPE html>
<html lang="en" xmlns:th="http:/www.thymeleaf.org"
				xmlns:sec="http:/www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
	<!--CSS -->
	
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

 </head>
<body  class="p-1 mb-0 bg-light text-black">


			
  				
  				
  		<div th:if="${ not#lists.isEmpty(users)}">
  		<table border="1" class="table table-striped  table-bordered  border-primary align-middle">
  		
  		<thead class="thead-dark">
          <tr>
              <th>Name</th>
              <th>Password</th>
              <th>Active</th>
              <th>Role</th>
              <th>Edit</th>
          </tr>
        </thead>
        	<tbody>
            <tr th:each="user, iStat: ${users}"
							th:style="${iStat.odd}? 'font-weight: bold;'"
							th:alt-title="${iStat.even}? 'even' : 'odd'">
              	<td th:text="${user.name}" />
				<td th:text="${user.password}" />
				<td th:text="${user.active}" />
				<td th:text="${user.roles}" />
				<td style="text-align:center;"> <a th:href="@{/finduser/{id}(id=${user.id})}" class="btn btn-primary btn-sm editUser" data-bs-toggle="modal" data-bs-target="#elementModal">edit</a> </td>
            </tr>
            </tbody>
          <table>
        </div>
			
			     


    <!-- USER MODAL -->
    <div class="userForm">
      <form  th:action="@{/saveuser}" method="post">

        <div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="addModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">

              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit user</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
					
				<div class="modal-body">
                <div class="form-group">
                  <label  class="col-form-label">id:</label>
                  <input type="text" class="form-control" id="id" name="id" value="" />
                </div>
              </div>

				<div class="modal-body">
                <div class="form-group">
                  <label for="userName" class="col-form-label">name:</label>
                  <input type="text" class="form-control" id="name"  value="" />
                </div>
              </div>
              
              <div class="modal-body">
               <div class="form-group">
			    <input type="checkbox" class="form-check-input" id="active" name="active" value="">
			    <label class="form-check-label" for="exampleCheck1">Active</label>
			  </div>
			  </div>
			  
			  <div class="modal-body">
                <div class="form-group">
                  <label for="user" class="col-form-label">ActiveString:</label>
                  <input type="text" class="form-control" id="activeString" name="activeeString" value="" />
                </div>
              </div>


              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <input type="submit" class="btn btn-primary" value="save" />
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>



<!-- END MODAL -->





<script type="text/javascript" th:src="@{js/edituser.js}" src="../static/js/edituser.js"></script>

</body>
</html>